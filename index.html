<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
<title>æ²‰è¿·è‰²æƒ…</title>
<style>
	.scrolling-text {
    width: 100%; /* å®¹å™¨å®½åº¦ */
    overflow: hidden; /* éšè—è¶…å‡ºéƒ¨åˆ† */
    position: fixed; /* å›ºå®šåœ¨é¡µé¢é¡¶éƒ¨ */
    top: 0; /* è·ç¦»é¡µé¢é¡¶éƒ¨çš„è·ç¦» */
    background-color: rgba(0, 0, 0, 0.7); /* èƒŒæ™¯é¢œè‰²ï¼ˆåŠé€æ˜ï¼‰ */
    color: white; /* æ–‡å­—é¢œè‰² */
    padding: 10px 0; /* ä¸Šä¸‹å†…è¾¹è· */
    text-align: center; /* æ–‡å­—å±…ä¸­ */
    z-index: 1000; /* ç¡®ä¿åœ¨é¡µé¢æœ€ä¸Šå±‚ */
}
	
:root{--iframeW:300px;--iframeH:200px;}
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;overflow:hidden;font-family:Arial;background:linear-gradient(120deg,#ff9a9e 0%,#fad0c4 50%,#fad0c4 100%);animation:bgChange 4s ease-in-out infinite alternate;}
@keyframes bgChange{0%{background:linear-gradient(120deg,#ff9a9e 0%,#fad0c4 100%);}100%{background:linear-gradient(120deg,#a18cd1 0%,#fbc2eb 100%);}}
.element{position:absolute;user-select:none;cursor:grab;}
.iframe-container{position:relative;width:var(--w,var(--iframeW));height:var(--h,var(--iframeH));min-width:160px;min-height:100px;max-width:calc(100vw - 20px);max-height:calc(100vh - 40px);border:1px solid #ccc;box-shadow:0 0 10px rgba(0,0,0,.1);overflow:visible;z-index:1;}
iframe{width:100%;height:100%;border:0;}
.slider-bar{position:absolute;bottom:-40px;left:0;display:flex;gap:6px;width:100%;justify-content:space-between;}
.slider-bar input[type=range]{width:48%;}
.image-container img{width:calc(var(--w, var(--iframeW)) * 0.5);height:auto;max-width:50vw;max-height:50vh;}
.text-container p{margin:0;font-size: calc(14 + Math.random()*16)px;color: hsl(Math.random()*360,100%,50%);text-shadow: -1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;padding:2px 6px;font-weight:bold;}
.countdown-container{width:150px;height:100px;border:1px solid #ccc;box-shadow:0 0 10px rgba(0,0,0,.1);padding:10px;text-align:center;background:#f9f9f9;z-index:6;}
.countdown-container p{margin:5px 0;font-size:20px;}
.bounce-container{width:75px;height:50px;border:1px solid #ccc;box-shadow:0 0 10px rgba(0,0,0,.1);background:#fff;z-index:6;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;overflow:hidden;}
.bounce-title{font-size:12px;font-weight:bold;margin:2px 0;}
.bounce-canvas{width:100%;flex:1;}
.progress-container{position:absolute;z-index:2000;width:60vw;height:10px;background:#ccc;border-radius:5px;overflow:hidden;}
.progress-bar{height:100%;background:#4caf50;width:0%;transition:width .2s;}

.side-btn{position:absolute;z-index:1001;padding:8px 12px;border-radius:5px;font-size:12px;cursor:grab;transition:background-color .3s;width:max-content;white-space:nowrap;min-width:fit-content;background:var(--btn-bg,transparent);}
.lucky-btn{position:absolute;z-index:1002;padding:10px 14px;border-radius:6px;font-size:14px;font-weight:bold;cursor:grab;}
#intersex-symbol{position:absolute;font-size:48px;color:#fff;text-shadow:0 0 3px #000;cursor:grab;z-index:1003;}
.dice-container{position:absolute;width:80px;height:80px;border:2px solid #333;border-radius:10px;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:40px;font-weight:bold;cursor:grab;z-index:1004;user-select:none;}
.dice-text{font-size:12px;margin-top:2px;}
.pet-container{position:absolute;width:120px;height:120px;background:#fff;border:2px solid #ff69b4;border-radius:10px;box-shadow:0 0 10px rgba(255,105,180,.3);z-index:1005;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:8px;font-size:12px;}
.pet-face{font-size:48px;line-height:1;margin:0;padding:0;}
.pet-love{width:100%;height:8px;background:#ffe4e1;border-radius:4px;overflow:hidden;}
.pet-love-bar{height:100%;background:#ff69b4;transition:width .3s;}
.pet-btn{padding:4px 8px;border:none;border-radius:4px;background:#ff69b4;color:#fff;cursor:pointer;font-size:11px;}
.pet-btn:disabled{background:#ccc;cursor:not-allowed;}
.spade-beta{position:absolute;font-size:48px;color:#000;text-shadow:0 0 2px #fff;cursor:grab;z-index:1006;display:flex;align-items:center;justify-content:center;width:48px;height:48px;}
.spade-beta span{position:absolute;font-size:29px;color:#fff;text-shadow:0 0 2px #000;top:50%;left:50%;transform:translate(-50%,-50%);}

#stats-panel{position:absolute;top:10px;left:10px;width:10vw;min-width:180px;max-width:280px;height:10vh;min-height:120px;max-height:200px;background:rgba(0,0,0,.55);color:#fff;font-size:12px;border-radius:8px;padding:8px;overflow-y:auto;z-index:9999;cursor:pointer;line-height:1.4;}
#stats-panel h4{margin:0 0 4px;font-size:14px;text-align:center;}

.cross-line{position:fixed;z-index:10000;pointer-events:none;}
.cross-line.vertical{width:0.5%;height:100vh;top:0;animation:fadeOut 5s forwards;}
.cross-line.horizontal{height:0.5%;width:100vw;left:0;animation:fadeOut 5s forwards;}
@keyframes fadeOut{0%{opacity:1;}100%{opacity:0;}}
</style>
</head>
<body>
	<div class="scrolling-text">
    <div class="text-content">æ’¸åŠ¨ä½ çš„è‚‰æ£’â™¥æ¦¨å–ä½ çš„ç²¾æ¶²â™¥</div>
</div> 
<div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

<!-- å·¦å³ç´§è´´ -->
<div class="side-btn element" id="addWindowBtn" style="left:0 !important;">+1æ·»åŠ è‰²æƒ…çª—å£</div>
<div class="side-btn element" id="delWindowBtn" style="right:0 !important;">-1åˆ é™¤è‰²æƒ…çª—å£</div>

<div class="side-btn element" id="bringToFrontBtn" style="left:10px;">ç½®é¡¶ç½‘é¡µ</div>
<div class="side-btn element" id="moveControl" style="left:10px;">
  <input type="checkbox" id="moveSwitch" checked>
  <label for="moveSwitch">ç§»åŠ¨å¼€å…³</label>
</div>
<div class="lucky-btn element" id="luckyBtn">ğŸ æŠ½å¥–ç®±</div>

<script>
(() => {
  'use strict';
  const predefinedUrls = [
"https://lilithkate202.github.io/random-porn-text.github.io/",
"https://theporndude.com/zh","https://www.ixxx.com/zh/","https://rule34.xxx/","https://fikfap.com/","https://netflav.com/","https://tubesafari.com/","https://www.alohatube.com/","https://fuckmoral.com/zh","https://spankbang.com/","https://www.porngo.com/","https://www.youporn.com/","https://pornone.com/","https://avtoday.io/index","http://www.h528.com/","https://asmrpleasure.com/","https://www.redgifs.com/","https://m.hqporner.com/","https://www.naughtymachinima.com/","https://kemono.su/","https://motherless.com/","https://fullporner.com/","https://www.trendyporn.com/","https://letsjerk.tv/","https://pornobae.com/","https://pornmz.com/","https://www9.pornhd3x.tv/","https://joysporn.club/","https://xxxfree.watch/","https://foxnxx.com/","https://latestpornvideo.com/","https://anyporn.com/","https://kwiky.com/","https://www.xxxfollow.com/","https://ogfap.com/","https://www.avrebo.com/zh-CN","https://reelsmunkey.com/","https://xxtok.com/x/uxtsdwc6","https://www.extranaughty.com/home","https://javtrailers.com/shorts/live","https://www.heavy-r.com/","https://bdsmstreak.com/","https://l.clips4sale.com/search","https://hypnoporn.net/","https://hcbdsm.com/","https://cosxplay.com/","https://69story.com/","https://hhhbook.com/","https://aaanovel.com/","https://xx-book.com/","https://xbookcn.net/","https://www.caramelbbw.com/en/","https://www.naughtyblog.org/","https://bigboobsfilm.com/en/","https://titshits.com/en/","https://spicybigtits.com/en/","https://www.curvyerotic.com/","https://www.teensnow.com/","https://www.assoass.com/zh/","https://www.trannytube.tv/","https://www.shemaletubevideos.com/","https://spicytranny.com/en/",
"https://transfap.to/","https://transdoe.com/","https://iamsissy.com/","https://www.incestflix.com/","https://milfnut.com/","https://www.incestvidz.com/","https://familypornhd.com/","https://milfcaps.com/home/","https://familyporner.com/","https://www.3dsexanime.xyz/","https://xanimu.com/","https://myhentaigallery.com/","https://myhentaicomics.com/","https://svscomics.com/","https://freeadultcomix.com/","https://bestporncomix.com/","https://www.erofus.com/","https://gedecomix.com/main/","https://www.palcomix.com/supportpal.html","https://www.wnacg.com/","https://www.177picyy.com/","https://www.ho5ho.com/","https://rokuhentai.com/","https://www.comicbox.xyz/index.html","https://syacomic.com/","https://hentaifox.com/","https://www.simply-hentai.com/web1","https://9hentai.so/#6g","https://hentairox.com/","https://asmhentai.com/","https://hentaihere.com/","https://ns0.com/"
];
  const imageApiUrls = ['https://moe.jitsu.top/img'
];
  const randomTexts = [
"æ“ä½ å¦ˆ","ä½è´±","èˆ”é€¼","ç‹—ç¯®å­","3cmå°é¸¡å·´","éªšèˆŒå¤´","æ— èƒ½æ­»ç²¾","çŸ­é¸¡å·´","è‚‰ç©´å¤¹çˆ†","æ’¸çˆ†æµ†",

"å†’ç€çƒ­æ°”","åŒ…èŒçƒ‚å±Œ","å‘æƒ…æ¯ç‰›","æ´—è„‘","ä¸“å±è‚‰ä¾¿å™¨","åŸå‘³å†…è£¤","æ·«å¦»","æ¯ç‹—","åºŸç‰©å°é˜´è’‚",

"è½®å¥¸","äº¤åˆå¤„","éªšé€¼å¤–ç¿»","å°„æ­»ç²¾","æ·«è¶³","æ·«å¥¸","å˜´ç©´","æ— è„‘å–·ç²¾","æ’¸åºŸæ‰","å¥¸æ·«",

"å°„ç²¾","å¯æ‚²","ç™½ä¸æ·«è„š","æ— è„‘å‹ƒèµ·","ä¹³äº¤","ç§äººæ¯ç‹—","å¤§é¸¡å·´ç¥–å®—","æ¶å¿ƒ","é«˜è·Ÿé‹","çŒªåµ",

"ç¨€å°¿ç²¾æ°´","æµç²¾","å¤„ç”·é¾Ÿå¤´","æ’¸å±Œå“„ç²¾","æ”¾å¼ƒå°Šä¸¥","é¸¡å·´å–·ç²¾","ç›¯æ¦¨å¸è„‘","åŒè…¿å‘è½¯","å—¦å±Œè·ªèˆ”","ç³œçƒ‚",

"è…¥è‡­","æµ“é…¸","å¤§è‡­è‚‰å±Œ","é›„è‡­å‘³","ç†åˆ°æ— è„‘ç¿»ç™½çœ¼","å“¼å“§å“¼å“§","æ·«è…»é…¸è‡­è„šåº•","é«˜è´µæµ“å¦†è„¸","ç”©å±Œ","æµ‘åœ†è‚¥ç¾",

"æ·«è‡€","æ¦¨ç²¾ä¸§å¿—æ²¹è„¸","ä¸€è‚¡è„‘æ³„å¹²å‡€","é›Œè‡­å·¨ä¹³","è…¥è‡­è‚‰æ£’","é£éªšå£çº¢","æ¦¨ç²¾å”‡èˆŒ","æ·«æ¯’","è…¥è‡­","ç²¾å¢",

"ä¸§å¿—çŠ¯è´±","ç¦æ­¢å°„ç²¾","çº¹èº«å¤ªå¦¹","ç³œçƒ‚è…¥è‡­å¤§å±Œ","ç»å°¿é…¸æ•´å®¹å¥¶","åµè›‹","è‚¥å¥¶","è‚¥ä¹³é©´å¥¶","è‚‰å±Œ","ç¾ç”²",

"çƒŸç†æµ“å¦†è„¸","æ— è„‘ä¸§å¿—","æµ“å¦†éªšè„¸","æ— è„‘","é¡¶èƒ¯ç”©å±Œ","æ— è„‘æµç²¾","æ— è„‘æ’¸å±Œ","ç‰è¶³","å½»åº•æ’ç©º","è…¥è‡­åŒ…æµ†è„è‡­é¸¡å·´",

"ç²—å¤§é»é»‘å¤§è‚‰æ£’","ç²¾æ±å„¿","å˜´å±„é£æœºæ¯","çˆ†å°„","é¥±æ»¡æ·«è‚‰","è‚›äº¤","ç²‰å«©å±çœ¼","è´±å¥´","åƒåœ¾æ¯é©´","å±çœ¼",

"å¤§é¸¡å·´ä¸»äºº","ç‹ ç‹ è‚æˆ‘","æ·«è‡­åµæ°´éªšé€¼","çŒ®åªšé›Œæœ","æµ“éƒé›Œéªšè…¥è‡­","è‚¥é²ç†Ÿç¼","æµ“å¯†é˜´æ¯›","æµ“ç¨ éªšè‡­","é—·ç©´éªšè‡­","çˆ†æ’¸é¸¡å·´",

"å˜æ€å¿«æ„Ÿ","éªšç†Ÿé›Œè‡­","è‰²æƒ…å¸è„‘æ·«æ¯’","å©Šå­æ¯ç‹—","æµ“ç¨ ç§æ±","å±çœ¼å¤–ç¿»","æ·«ç†Ÿæ²¹è‚‰","é»„è‡­éªšç²¾","è‚¥è‡€å·¨ä¹³","çˆ½æˆå‚»é€¼",

"æ·«ç†Ÿæš–å±Œè‚‰æ´","é¸¡å·´å¥—å­","ç²˜ç³Šæš–æ»‘","ç†Ÿå¥³å±Œå¥—","è‚¥è‡€éªšé€¼","éª‘ä¹˜å‘æƒ…","çœŸç©ºå£äº¤","è‚¥è…»çš„å”‡è‚‰","é¾Ÿå¤´æ²Ÿ","å¸å±Œé©´è„¸",

"é›Œç†Ÿåªšç©´","é›Œç•œæƒ¨å«","æ— è„‘é«˜æ½®","å–·æ°´æ¯çŒª","ç†Ÿå¥³é›Œæ€§è·å°”è’™","æµªè¡è‚¥é€¼","éªšé€¼è´±èŠ","æµ“éƒéªšè‡­çš„è‚‰è¶³","æ·«è‚¥çš„è‚‰è‡€","è‚¥è…šå·¨å°»",

"å¤¸å¼ æ·«è‚¥","ç™½å«©è‚‰è‡€","ç²¾è‡´å¦©åªš","ç«™è¡—å©Š","å°¿å¢","ç²¾å¢","é¿å­•å¥—","å¤§è‚‰é€¼","éªšé˜´å”‡","éªšè‡­è‚‰å±Œ",

"æµç²¾","åºŸç‰©é˜´è’‚","æµ“è‡­è´±é€¼","è‚¥åšå˜´å”‡","è…¥è‡Šæ¹¿å’¸","å°¿éªšé¸¡å·´å¢","å©Šå­æ¯ç‹—","å…è´¹æ¥å®¢","å •è½æ¬²æœ›","å·çª¥",

"è…è´¥ä½ çš„è„‘å­","åŠ£è´¨ç‹—ç²¾","æ´»æ´»ç†åä½ çš„è„‘å­","åˆéªšåˆè‡­","æ²¾æ»¡æ­»ç²¾","è½¯å±Œè´±ç•œ","æ¼å°¿æ³„ç²¾","æ‹è‡­è‚‰å«","è´±é€¼æ¼å‡ºæ·«æ°´","è´±è´§",

"çƒ‚é€¼æ¯ç‹—","æ— è„‘è‚‰ç•œ","æ‰£å¼„ç€è‡ªå·±çš„è´±é€¼","æ‹‰æ‰¯ç€è‡ªå·±çš„é˜´å”‡","æ±¡å¢","æ¯è›†","å¦–è‰³æ¦¨ç²¾æ²¹å©Šè„¸","é«˜æ½®","çŠ¯è´±ä¸§æ™º","å£ç©´æ¦¨ç²¾",

"å‘æƒ…å…¬ç‹—","å’•å™œå’•å™œ","é¥±æ»¡è‚¥ä¹³","é›Œç†Ÿè‚¥ä¹³","æ·«è‚¥è‚‰å£¶","æ·«é¡","é›Œç†Ÿè…»æ±—","é»è…»è‚‰æ´","æ·«è½¯å«©è‚‰","æ¦¨ç²¾å˜´ç©´",

"è¶…å¿«é€ŸçœŸç©ºå£äº¤æ¦¨ç²¾","æ€§æ¬²","è„è‡­éªšé»„","æ»¡æ˜¯ç²¾å¢","æ¶è‡­é¸¡å·´","æ·«éªšè‚¥å°»","å‘æƒ…çš„æ¯ç•œ","æ³„ç²¾è½¯å±Œ","æ— è„‘äº¤é…","çƒ‚é€¼è‚‰ç•œ",

"å‚»é€¼å©Šå­","çƒ‚é€¼è‚‰ç•œ","è ¢å¾—å’Œæ¯çŒªä¸€æ ·","ä¸‹è´±ç—´å¥³","ç¿»ç€ç™½çœ¼å–·åµæµæ°´","ä¸‹è´±çš„æ¯ç•œ","éªšè‡­å†…è£¤","éœ²å‡ºé«˜æ½®è„¸","ç¨€è–„ç²¾æ¶²","æ¼å°¿é»‘é€¼",

"ç«™è¡—æ¯è›†","æ·«è¡éªšè´±","å©Šå­","ç«™è¡—å©Šå¦ˆ","é‡å£ç¾è¾±","ç©å¼„","ä¸‹è´±æ¯è›†","çƒ‚å©Šå­","å…¬å…±å•æ‰€","çƒ‚é€¼å©Šå­",

"é˜³ç—¿è‚‰è™«","ç²—é»‘è‚‰å±Œ","éªšè‡­é¸¡å·´","ä¸‹æµæ·«è¡","é›Œç©´åŸåœ°æ½®å–·","ç›´ç¿»ç™½çœ¼","æ·±åè‚‰å±Œ","äº¤é…æ’­ç§","é›Œæ€è‚‰æ£’","å¤±å»ç†æ™º",

"ç†Ÿå¥³è‚‰ç©´","çˆ±æ¶²","è‡­é¸¡å·´","å·¥å£","å¦©åªš","æ·«è¡","å£äº¤è„¸","æŒ¤æ¦¨ç¾ä¸¸","è¶…å¿«é€ŸçœŸç©ºå£äº¤æ¦¨ç²¾","ç²—å¤§ç³œçƒ‚éªšè‡­è‚‰æ£’",

"æ—©æ³„é˜³ç—¿å°è‚‰æ£’","åƒåœ¾","æµæ²¹è‚¥è‡€","è‚å¼„","ä¸‹è´±éªšå‘³","ç”Ÿæ®–å™¨","é˜³ç—¿åºŸç‰©","æ— è„‘æµç²¾","å‚»åµè´¡ç•œ","èº«æä¸°æ»¡é«˜æŒ‘",

"æ¼å°¿è‚‰ç˜¤","æ·±é‚ƒè‡€ç¼","é˜³ç—¿é‡ç§","åœ£æ°´" ,"ç£•å¤´ä¸‹è·ª","çŸ­å±Œè´±ç§","å¥³ç‹","äº²å»","é«˜å‹é»‘å¿ƒæ¶æ¯’","è´±ç§åå·®",

"é«˜è´µå†·è‰³","äººæ¨¡äººæ ·","å—¦å±Œ","æ¯çŒª","å¤§è„‘æ­»æœº","èµèµ","ä¸Šè´¡","è¿Ÿé’","ä¾µèš€","èˆ”èˆå•ƒå’¬",

"æ— å¥—å†…å°„","ç²—ç¡•","æ·«è´±å«©è‚‰","æµæ°´","çŒªè‡€","æµå‡ºæ·«æ°´","éªšç‹—","ç£•å¤´","å“¼å”§å“¼å”§","ç™½è™è‚¥é²",

"çˆ†æº¢è‚¥ç¾","æ·«é¡æ„šè ¢","è…¥è‡­åŒ…èŒè‚¥è‚ ","å™—æ¹«å™—æ¹«","å€’è´´ç™½ç»™","é¸¡é¸¡ç‰›å¥¶","ä¸è¢œè„šå«","æ²¹ä¸è‚‰è…¿","æµ“é…¸è£¸è¶³è‡­è„š","å…ˆèµ°æ±",

"éªšè‡­è„šæ±—","æ€§æ¬²","æ·«è´±è‚¥è‡€","æ²¹æ±—æ»‘è½","è‚¥åšè‚‰ç©´","æ²¹æ±—æ±¡å¢","æ·«è´±è‚¥èˆŒ","èˆ”å¼„é©¬çœ¼","æ»‘ç²¾æµå°¿","é˜³ç—¿å…¬ç•œ",

"è‚¥è‡€å†…å°„","åšå®å·¨ç¡•","å®‰äº§è‚¥å°»","æ·«é¡è‚‰å“","è‚¥ç†Ÿéªšå±„","åŠé’Ÿå¤§å¥¶å­","æµªè‚‰è‚¥è‡€","æ·«è‚¥è‚‰è‡€","æµ“éƒé›Œè‡­","å‘å‡ºå‘»åŸ",

"éªšè‡­æ²¹æ±—","æŸèµ·ä¸­æŒ‡","è‚¥è…»åŒä¹³ä¹±ç”©","é»‘ä¸ç¾è…¿","çº¢æ™•","éªšå±„","æ…°å®‰å¥—å­","è‚‰ä¾¿å™¨","é¸¡å·´æŠšå¼„æ‰€","åœ†æ»šæ»šçš„åµè›‹",

"ç²˜ç¨ ç²¾æµ†","å’•å•¾å’•å•¾","æµ“éƒçš„æ±—è‡­","æ·«éªšçš„é›Œè‡­","å¼ºå¥¸","ä¸§æ™º","æ€§çˆ±","æŠ½æ’éªšç©´","ç²¾æ¶²çŒæ»¡","éªšæ¯ç‹—",

"éªšé€¼","ç²—å£®å…¬ç‹—é¸¡å·´","æ»šçƒ«çš„ç²¾æ¶²","é»„è‡­éªšç²¾","æ°”å‘³æµ“é‡","ç†åè„‘å­","æ— è„‘æ’¸å±Œå–·ç²¾","éœ²å‡º","è‚¥å±„","æ†‹ä¸ä½çš„æ·«æ°´",

"ç²—å±Œé¡¶èƒ¯ç¿»é£","å¸é»‘å±Œ","éªšé€¼è¿åˆ","ç”©å¥¶å¸å±Œ","æ·«å«æ’¸ç®¡","æ’¸å°„","æ°”å‘³æµ“é‡","è£¤è¢œä¸è¢œ","è‚‰èŒ","é€—å¼„é©¬çœ¼",

"æ·«é¡çš„æ°”å‘³","è¶³ä¸‹éªšç‹—","æµ“ç¨ è…¥è‡­","å™—æ¹«å™—æ¹«","æ»‹æ¶¦","æ— è„‘ç¿»ç™½çœ¼é«˜æ½®","ç”±æ…¢åˆ°å¿«","ç”±æµ…å…¥æ·±","æ’¸ç®¡","è´±å…®å…®",

"å¿ä¸ä½å°„å‡ºæ¥","ä¸Šäº¤è„‘å­","é»‘ä¸æ·«è…¿","è‡ªåŠ¨æ†‹ç²¾","å¤§è„‘å´©æºƒ","è„‘ç˜«","æ·«è„š","é…¸è‡­ç†è„‘","é²œç¾è£¸è¶³","çˆ½åˆ°çª’æ¯",

"è¹‚èºç¢¾å‹","éªšé¸¡å·´","ä¸€æ»´ä¸å‰©","æ¦¨å°„","æ¸…ç©ºç²¾å›Š","ç†åå¤§è„‘","æ— è„‘å–·ç²¾","ä½è´±çš„æ™ºå•†","é›Œç†Ÿæµ“é‡","ç™½é›¾è„šæ±—",

"è‡­æ°”","å¼±æ™ºè„‘ç˜«å‚»é€¼å…¬çŒª","æ— è„‘é«˜æ½®å–·ç²¾","åŠ£è´¨æ­»ç²¾","è›‹å›Š","åªšå±Œæ¯ç•œ","è·ªæœ","å£äº¤ä¾å¥‰","æ‰‹æ·«è‡ªæ…°","å»ä¸Šå”‡å°",

"æ»‹æ¶¦é¸¡å§","ç†Ÿå¦‡å£è…”","çº¢è‰²å˜´å”‡","è…¥è‡­ç²¾æ¶²","è›‹è›‹","é½¿ç—•æŒå°","æ·«ç©´","æ»šçƒ«çš„ç²¾æ¶²","è‚¥éªšå±è‚¡","æˆç†Ÿå¦©åªš",

"éªšä¹³æ·«èº«","å‚æ¶æ¬²æ»´","æ½®çº¢ç¿»ç™½çœ¼","å¨‡å«©è„¸è›‹","çŒç§","åºŸç‰©è‚‰å±Œ","æ“å‡ºæµç²¾","å¤±ç¦","æ·«ä¹±éªšè´±","æ“æˆå‚»é€¼",

"é£æœºæ¯","ç²¾ç›†","æ€§æ¬²å¤„ç†å™¨","æ·«çº¹","é½é½é½","æ’­ç§çŒç²¾","å¤§å£°æ·«å«","æ‚é±¼é˜³ç—¿","å¼±æ™ºæ¶å¿ƒ","ç†Ÿå¥³æ·«èº¯",

"æ»‹æ¶¦é¸¡å§","ç†Ÿå¦‡å£è…”","çº¢è‰²å˜´å”‡","è…¥è‡­ç²¾æ¶²","è›‹è›‹","é½¿ç—•æŒå°","æ·«ç©´","æ»šçƒ«çš„ç²¾æ¶²","è‚¥éªšå±è‚¡","æˆç†Ÿå¦©åªš",

"éªšä¹³æ·«èº«","å‚æ¶æ¬²æ»´","æ½®çº¢ç¿»ç™½çœ¼","å¨‡å«©è„¸è›‹","çŒç§","åºŸç‰©è‚‰å±Œ","æ“å‡ºæµç²¾","å¤±ç¦","æ·«ä¹±éªšè´±","æ“æˆå‚»é€¼",

"é£æœºæ¯","ç²¾ç›†","æ€§æ¬²å¤„ç†å™¨","æ·«çº¹","é½é½é½","æ’­ç§çŒç²¾","å¤§å£°æ·«å«","æ‚é±¼é˜³ç—¿","å¼±æ™ºæ¶å¿ƒ","ç†Ÿå¥³æ·«èº¯",

"ç²—å£çˆ†éª‚","è½¯å°æ— åŠ›","ç²—å±Œé‡çˆ¹","è´±ç§","æ‚ç§","é˜³ç—¿è½¯å±Œ","è½»è”‘","æµç²¾","åŒ…èŒè‚‰å±Œ","è½¯è¶´è¶´",

"é¢¤æŠ–æµç²¾","åˆé»‘åˆçŸ­","åŠ£ç²¾","é«˜æ½®å–·æµ†","æ— è„‘ä¸Šäº¤","ç•œç”Ÿ","å‰åˆ—è…ºæ¶²","æ³„ç²¾","ç³œçƒ‚çš„å±„","æ“ä½ çš„è´±å±Œ",

"è‚¥åšçš„é˜´å”‡","æŒ¤å‡ºå¤§é‡ç™½æµ†","é¡¶èƒ¯ç”©å±Œ","çˆ†èŒç”Ÿæ®–å™¨","é›„æ ¹é˜´èŒ","ä¸‹æµçš„æ°”å‘³","åŒ…è‡€è‚‰ä¸","é›Œéªš","è·ªèˆ”","çŠ¯è´±",

"åºŸç‰©","ä¸‹è´±","æ—©æ³„","è‚‰è™«","è´±ç‹—","çƒ­æ°”è…¾è…¾","é»‘ä¸","è‚‰è¶³","å®è´","çŒ›å¸",

"æ±—é…¸","è‡­è„š","å·¨å±Œ","æ­£å¤ª","æ“å±çœ¼","å£å°»","å…¬å•","æ€§æ„Ÿ","é˜´èŒ","èƒ¯ä¸‹",

"ç¬é—´å‹ƒèµ·","çŸ­å°","é¸¡é¸¡","éªšæµª","æ·«è´±","é…¸ä¸è‡­è¶³","é¸¡å·´","è„šè‡­","ç›¯","å‹ƒèµ·å‘æƒ…",

"ä¸Šç˜¾","è´±æ­»äº†","è‚å±„","è„šå«","äº¤é…","å‰¥å¤º","è‚¥åšé¥±æ»¡","è‚‰å¥¶","ä¹³æ™•","é¥±æ»¡",

"è‚‰è…¿","å–˜æ¯","åŒ…çš®","è‡­é¸¡å·´","æ’¸åŠ¨","é»„è‰²è…¥è‡Šæ±¡æ¸","è£†éƒ¨","è„è‡­","è•¾ä¸å†…è£¤","æ²¹äº®é»‘ä¸",

"ç²—å£®çš„é¸¡å·´","çƒ‚è‡­è…¥è‡Š","ä¸å­—è£¤","é›Œè‡­ç³œçƒ‚","é¸¡å·´æ°”å‘³","æµ“çƒˆè…¥è‡­","æ¶è‡­","å†…è£¤","å±„è‡­","ä¸°æ»¡",

"è‚¥ç†Ÿ","é”€é­‚","è½¯ç³¯","éªšé¸¡å·´","ä¸è¢œ","é©¬çœ¼","é¸¡å·´æ±","å¥¶æ²Ÿ","å¥¶è‚‰","é»‘è¤è‰²ä¹³æ™•",

"ç†Ÿå¥³","éªšé¦™ä½“å‘³","é›Œè‚‰","è‚¥è…»é¥±æ»¡","æµ“çƒˆæ°”å‘³","è‡­æ±—","å–·ç²¾","æµ“åšæ²¹å©Šå¦†å®¹è„¸","è‚‰å¥¶","ç™½èŠ±èŠ±",

"è‚¥é¢¤é¢¤","ç²—é»‘è‚‰å±Œ","æ— æ¯”ä¸‹æµ","å¸ç²¾å©Šå­","éªšå¦ˆ","éªšè´±æ¯çŒª","æ·«ç©´","ç²¾å¢","æŠ½æ’","åµæ¶²",

"å°é¸¡å·´","å—¦å±Œ","æ¼ç²¾","å¸æ¦¨","è‰²æƒ…","å®å¸é¸¡å·´","æ— è„‘","è„šå¥´","å…¬ç‹—","å„¿å­",

"æµ“é…¸è£¸è¶³","äº²å¦ˆ","ç¥–å®—","é˜³ç—¿","çƒ‚çš®è½¯é¸¡å·´","é…¸è‡­è„šä¸«å­","å¿«æ„Ÿ","è„šè¶¾ç¼","é¸¡å·´å¤´å­","è„šåè·Ÿ",

"éªšåµè›‹","å–·æ°´","é¸¡å·´åµè›‹","ç²¾å›Š","æ‚ç§ç‹—ç²¾","æš´æ¯™","è‡­å‚»é€¼","å†¤ç§","å·¨ä¹³","æ„æ·«",

"è‡ªæ…°","å¥¶å­","å°å±Œå­","è£¤è£†","æŠ½å¥¶å…‰","å¥¶é¦™","è·ª","æ’¸çƒ‚","å‘¼å¸å›°éš¾","ç‹—å±Œ",

"è‰³èˆ","æ— è„‘æ’¸","æ— èƒ½","é„™è§†","å±„","å±Œ","å˜²ç¬‘çˆ†è€","è°ƒæ•™","åºŸç‰©è´±å±Œ","è°ƒæ•™æ³„ç²¾",

"çŒªè„¸","é¢…å†…é«˜æ½®","å¼±æ™º","éªšå±çœ¼","æ“æˆ‘å¦ˆé€¼","è§†å¥¸","æ­»å¦ˆ","é›Œç†Ÿéªšå‘³","åƒåœ¾","è´±ç‹—ç²¾æ¶²",

"ç†Ÿå¥³äº²å¦ˆ","é»‘ä¸è¶³åº•","ç†æ™ºæº¶è§£","çŒªè„‘","ç²—å±Œ","æ¯é©´è´±é€¼","é¡¶é€¼","é€¼è‚‰","å­å®«","éªšå”‡",

"é¾Ÿå¤´","æ’©æ‹¨å˜¬å¸","èˆŒå¤´","è¤¶çš±","è‚¥é€¼","æ´©å°¿å–·åµ","å­å®«å£","è‚‰å±„","è‚‰å¥—å­","è´±æ¯çŒª",

"å±è‚¡","è‡€è‚‰","é»‘è¤è‰²çš„å¥¶å¤´","å–·å°„å¥¶æ°´","ç²¾æ¶²","èˆ”","å­•è‚š","é˜´è’‚","ç²—æš´","æ‰æ",

"å¤±ç¦","æ½®å¹","ä¸°æ»¡è‚¥ç¡•","çƒ­æ°”","é›Œè‡­","é»è…»å±çœ¼","ä¾µè¢­","è‚›é—¨","å¸å®","è´±é¸¡å·´",

"è‚¥å°»","å¸è‡­","è„šåº•","æ— è„‘å‚»é€¼","é“å¾·å´©å","ä¸‰è§‚å´©å","æ¯«æ— åº•çº¿","èŠéªš","è´¥åŒ—","äº¤ç²¾",

"å–æ‚¦","æ¦¨å¹²","å²”å¼€åŒè…¿","çŒªå¥¶","ç¿»ç™½çœ¼","è‡ªæ¯å½¢è±¡","åµå­","ç²¾å­","ç–¯é€¼ç”©è‡€","ä¸°æ»¡å©Šå­",

"è‚¥è‡€","å¤§ä¹³å¤´","é»‘é€¼","çƒ‚é€¼","é»‘å±çœ¼","åŠ£è´¨ç²¾æ¶²","è¶³æ±—","æ•æ„Ÿ","é»ç³Šç³Š","é›Œç†Ÿåªšç©´",

"é›Œç•œ","åŒçœ¼ç¿»ç™½","éªšé€¼","æ·«æ°´","æ·«è‚‰","è‚¥è½¯è‚‰æµª","æ— è„‘è‚‰ç•œ","éªšè‡­","å†…å°„","ä¼ºå€™",

"ç²—å£®é»‘å±Œ","æ²¹è„¸","ç²—å¤§å‘é»‘çš„å¥¶å¤´","éªšå˜´å”‡","è…‹ç¼","æ·«è‡­","é«˜è´µ","ä¸‹è·ª","ä¸§å¿—","ç”©å±Œ",

"å™—å™œå™—å™œ","é¦™æ±—æ·‹æ¼“","é»‘å±„å¦“å¥³","è‚è„¸çˆ†ç†","æ— è„‘é¡¶è„¸","å£äº¤ä¾å¥‰","è‚›é—¨äº²å»","å´‡æ‹œå¤§é¸¡å·´","ä¸§å¿—æ¶å •",

"è£¸éœ²","ä¹³è‚‰","ç‰è…¿","è‚Œè‚¤","å©Šå­å¦†","çœ¼å½±","çƒˆç„°çº¢å”‡","é’æ¥¼","å–é€¼","å¦“å¥³",

"å±è‚¡ä¹±æ™ƒ","çŒ«æ­¥","å£å¹²èˆŒç‡¥","æ‚ç€è£¤è£†","å·å·æµç²¾","å¤„å¥³","ç”·å¥³ä¹‹äº‹","ç¾å¥³","æ€§ç˜¾","æŒ¨æ“",

"é›„æ€§","æ»¡èº«çº¹èº«","ä¹³ç¯","éªšé€¼","è·ªåœ°","çˆ¬è¡Œ","éªšè„¸","å‚»å±„","è·ªæ±‚","é‡çˆ¹",

"æ“å±„","åéª‘","è‚‰ä¾¿å™¨","è‡ªæ¯","æ¶å •","éœ²å‡º","è‡ªæ…°","åªšå±Œ","ä¸Šè´¡","ä¾µçŠ¯",

"ç—´è¿·ç²¾æ¶²","å©Šå­","å·¨å±Œ","å¸ç²¾","å¦“é™¢","å…¨è£¸","æ·«å•ª","å«–å¨¼","æµ“ç²¾","è·ªèˆ”",

"ç«™è¡—","å •è½","ç£•å¤´","æ·«å«","æ‰­èƒ¯","çŒ®åªš","æ·«æ°´","èº«è´¥åè£‚","æ€§æ¬²","å–·åµ",

"å—å­•","è·ªåœ°æ±‚é¥¶","å…¨è£¸ç«™è¡—","ç¾ä¸¸","ç²¾æ°”","è·ªåœ°æ±‚é¥¶","é€é€¼","ç£•å¤´","å–Šçˆ¹","ä¸§å¿—",

"è¾±éª‚","æŒå˜´","è´¬ä½","æ´—è„‘","åªšé»‘","æ¯å©Š","å¤ªå¦¹","ç¾è¾±","æ”¹é€ ","æƒ…ä¾£å¥´",

"ç™¾åˆ","é›Œç«","äº’éª‚","æ¥å®¢","ç™¾åˆç ´å","èª“çº¦ä¹‹å»","å©šç¤¼","å…±å •","èƒŒå›","æƒ…è¶£ç©å…·",

"æŒ¯åŠ¨å¼å‡é¸¡å·´","ç¾è€»æ„Ÿ","ç‚®å‹","é¡¹åœˆ","æ˜‚é¦–æŒºèƒ¸","æŒ¯åŠ¨","çª’æ¯é«˜æ½®","è·³è›‹","æŒ¯åŠ¨æ£’","æ‘©æ“¦é˜´è’‚",

"å¼ºåˆ¶é«˜æ½®","æ½®å–·","æ•æ„Ÿ","éªšé€¼","ç²¾è‡­å‘³","é›Œè‡­å‘³","æ±—è‡­å‘³","æ·«è‡­","æŠ é€¼","å–é€¼",

"æ ¡é¸¡","æ‰¶å¥¹","å…½å¥¸","é€†å¼ºå¥¸","è´¥åŒ—","å€’è´´","çº¢è‚¿é…¸è½¯","å¥³ç»¿","æ®´æ‰“","è¾±éª‚",

"é«˜æ½®å–·åµ","æ±‚é¥¶","ä¸­æŒ‡","å…¨è£¸åœŸä¸‹åº§","å‚»é€¼","è´¥åŒ—","è´±ç•œ","ä¾¿å™¨","çŒ®å¦»","å¦©åªšéªšæµª",

"æ— æ¥è§¦æ’¸ç®¡","æ’¸ç®¡","å¯¸æ­¢","é¾Ÿè´£","æ— æ³•å°„ç²¾","æµ“ç¨ ","ç¨€è–„","å¤¹è…¿","æ¯å¥³","æµ“ç¨ è…¥è‡­",

"è‰²æ¬²æ”¯é…","ç²¾æ¶²ç‰›å¥¶","æ·«ä¹±æ— åº¦","ä¼ºå€™","æ€§ç¦","ä¾å¥‰","è½®å¥¸","æ·«ç¬‘","è¡Œæˆ¿","ç²¾æ¶²æ‹Œé¥­",

"å±Œæ¯›","æ·«ä¹±ä¸å ª","é€é€¼","é—ªç€æ·«å…‰","æ’…ç€å±è‚¡","è‹—åºŠ","å–·åµæ¯çŒª","é¿å­•å¥—","å¤±ç¦","éªšæ°´",

"æ“äº†ä¸ªçˆ½","å·¨ä¹³","å‘»åŸå‹¾å¼•","æ¬²ç«ä¸­çƒ§","ä¸°è…´","èˆ”ç€ç²¾æ¶²","ç™½ç»™","é»‘å±Œ","è°„åªš","ç£•å¤´æ±‚é¥¶",

"è…¥æµ“ç²¾ç²¥","å‡ºè½¨","å¼ºå¿æ€§æ¬²","é›Œå°é¬¼","é›Œä¼","é¼“åŒ…","é¥¥æ¸´éš¾è€","è·ªèˆ”","ä¸Šé—¨é€é€¼","å†…å°„",

"æ¬²ç«éš¾è€","èè‰","çƒ‚è£¤è£†","å£ä¾¿å™¨","åµè¢‹","ä¹±ä¼¦","æ€§ä¾µ","å‘æƒ…é˜ˆå€¼","å±çœ¼","ç”·å¨˜",

"äº¤é…","åšçˆ±","æ¬²æ±‚ä¸æ»¡","ä¾¿å™¨æ¯ç‹—","å¼ å˜´æ¥å°¿","ç²¾æ¶²æ–™ç†","åç²¾","åœ£æ°´","è‡ªæ…°","è‰²æ¬²ä¸Šå¤´",

"å–éªš","å…”å¥³éƒ","è¡£ä¸é®ä½“","æ»¡èº«ç²¾æ¶²","æ¼ç²¾","æ»¡èº«ç²¾æ–‘","èµ¤è£¸","é˜¿é»‘é¢œ","ä¸‹ç­‰","ç²¾è‡­",

"å±ˆè¾±","å¤±ç¦","å‹ƒèµ·","ä¾å¯","å‘æƒ…","äººå¦–","é›Œå •","éªšæµª","è‡ªäºµ","ç²¾å•",

"æ— è€»","æ— åº•é™","çŒ®åªš",
];
  const luckyTexts = ['å‡†è®¸å°„ç²¾','ç¦æ­¢å°„ç²¾','æ¯ç­é«˜æ½®','è°¢è°¢å‚ä¸'];
  const countdownTexts =[
"æ‰‹æŒæ¡ä½é˜´èŒæ’¸åŠ¨", "æ‰‹æŒ‡è½»æ‰é˜´å›Š",  "æ‰‹æŒè½»æ‹é˜´å›Š", "æ‰‹æŒæ‰æé˜´å›Š", "é£ŸæŒ‡ä¸­æŒ‡å¤¹ä½é˜´èŒä½“æ’¸åŠ¨", "å•æŒ‡æ²¿é˜´èŒä½“è…¹ä¾§æ»‘åŠ¨", "æ‹‡æŒ‡é£ŸæŒ‡å‘ˆç¯çŠ¶å¤¹ä½é˜´èŒä½“æ’¸åŠ¨", "æ‰‹æŒåŒ…è£¹é¾Ÿå¤´å¹¶ç”¨æŒå¿ƒæ‘©æ“¦", "æ‰‹æŒ‡å¤¹ä½é˜´èŒä½“æ¥å›æ—‹è½¬", "æŒ‡å°–å¤¹ä½é¾Ÿå¤´æ’¸åŠ¨", "æ‰‹æŒåå¤ç´§æ¡æŒ¤å‹é˜´èŒä½“", "æ‰‹æŒ‡åå¤ä»é˜´èŒæ ¹æ’¸åˆ°é¾Ÿå¤´", "æŒ‡å°–æ‘©æ“¦é©¬çœ¼å’Œé¾Ÿå¤´é¡¶ç«¯", "åŒæ‰‹å¤¹ä½é˜´èŒæ“å¼„"
];
  let zIndexCounter = 2, isMoving = true, globalSpeed = 1;
  const dicePhrases = {1:['æ‰‹'],2:['å˜´'],3:['ä¹³'],4:['å±„'],5:['è‚›'],6:['å±Œ']};

  const stats = {startTime: Date.now(), iframeOpened: 0, iframeClosed: 0, textRefreshed: 0, luckyClicked: 0, diceClicked: 0, petInteracted: 0, countdownTriggered: 0, imageLoaded: 0};
  const moveIntervals = new WeakMap();
  const activeTimers = new Set();

  /* ---------- å·¥å…·å‡½æ•° ---------- */
  function bringToFront(el){el.style.zIndex = ++zIndexCounter;}
  function clamp(v,min,max){return Math.max(min,Math.min(v,max));}
  function randomColor(){return 'hsl('+Math.floor(Math.random()*360)+',100%,65%)';}

  /* ---------- å½©è‰²ä¾§è¾¹æŒ‰é’® ---------- */
  function colorizeSideBtns(){
    document.querySelectorAll('.side-btn').forEach(btn=>{
      btn.style.setProperty('--btn-bg', randomColor());
    });
  }
  colorizeSideBtns();
  const colorTimer = setInterval(colorizeSideBtns, 2000);
  activeTimers.add(colorTimer);

  /* ---------- é‡å æ£€æµ‹ ---------- */
  function overlaps(a,b){return !(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom);}
  function iframeOverlaps(rect){
    const iframes=document.querySelectorAll('.iframe-container');
    for(const el of iframes){
      if(el===rect) continue;
      if(overlaps(rect.getBoundingClientRect(),el.getBoundingClientRect())) return true;
    }
    return false;
  }

  /* ---------- ç§»åŠ¨ ---------- */
  function move(el,mode='full'){
    if(moveIntervals.has(el)) return;
    const isIframe=el.classList.contains('iframe-container');
    const baseSpeed=isIframe?globalSpeed*0.3:globalSpeed*3;
    let vx=0,vy=0;
    if(mode==='vertical') vy=(Math.random()-.5)*baseSpeed*(innerHeight/1000);
    else{vx=(Math.random()-.5)*baseSpeed*(innerWidth/1000);vy=(Math.random()-.5)*baseSpeed*(innerHeight/1000);}
    const initX=el.id==='addWindowBtn'?0:el.id==='delWindowBtn'?innerWidth-el.offsetWidth:Math.max(0,Math.random()*(innerWidth-el.offsetWidth));
    const initY=Math.max(0,Math.random()*(innerHeight-el.offsetHeight));
    el.style.left=initX+'px';el.style.top=initY+'px';
    const tick=()=>{
      if(!isMoving){moveIntervals.delete(el);return;}
      let speed=baseSpeed;
      if(isIframe && iframeOverlaps(el)) speed*=4;
      if(!isIframe) speed*=0.7;
      let x=parseFloat(el.style.left),y=parseFloat(el.style.top);
      x+=vx*speed;y+=vy*speed;
      const maxX=innerWidth-el.offsetWidth,maxY=innerHeight-el.offsetHeight;
      if(x<=0){x=0;vx=-vx;}else if(x>=maxX){x=maxX;vx=-vx;}
      if(y<=0){y=0;vy=-vy;}else if(y>=maxY){y=maxY;vy=-vy;}
      el.style.left=x+'px';el.style.top=y+'px';
      moveIntervals.set(el,requestAnimationFrame(tick));
    };
    moveIntervals.set(el,requestAnimationFrame(tick));
    el.addEventListener('mousedown',()=>bringToFront(el));
  }
  function stopMove(el){cancelAnimationFrame(moveIntervals.get(el));moveIntervals.delete(el);}

  /* ---------- åŠ¨æ€æ•°é‡è®¡ç®— ---------- */
  function calcTargetIframes(){
    const area=innerWidth*innerHeight;
    let target=Math.floor(area/200000);
    return Math.max(innerWidth<=768?2:4,Math.min(target,innerWidth<=768?4:16));
  }

  /* ---------- åˆ›å»º iframe ---------- */
  function createIframe(){
    const target=calcTargetIframes();
    const current=document.querySelectorAll('.iframe-container').length;
    if(current>=target) return;
    stats.iframeOpened++;
    const box=document.createElement('div');box.className='element iframe-container';
    const defaultW = innerWidth <= 768 ? 520 : 600;const defaultH = innerWidth <= 768 ? 240 : 300;
    box.style.setProperty('--w',defaultW+'px');box.style.setProperty('--h',defaultH+'px');
const boxW = parseInt(box.style.getPropertyValue('--w') || defaultW);
const boxH = parseInt(box.style.getPropertyValue('--h') || defaultH);
box.style.left = Math.max(0, Math.min(Math.random() * (innerWidth  - boxW), innerWidth  - boxW)) + 'px';
box.style.top  = Math.max(0, Math.min(Math.random() * (innerHeight - boxH), innerHeight - boxH)) + 'px';

    const iframe=document.createElement('iframe');iframe.src=predefinedUrls[Math.floor(Math.random()*predefinedUrls.length)];iframe.style.border='none';box.appendChild(iframe);
    const sliderBox=document.createElement('div');sliderBox.className='slider-bar';
    const wSlider=document.createElement('input');wSlider.type='range';wSlider.min=160;wSlider.max=Math.floor(innerWidth*0.9);wSlider.value=defaultW;
    wSlider.addEventListener('input',e=>{
      const newW=clamp(parseInt(e.target.value),160,Math.floor(innerWidth*0.9));
      box.style.setProperty('--w',newW+'px');
      let left=parseFloat(box.style.left);left=clamp(left,0,innerWidth-newW);box.style.left=left+'px';
    });
    const hSlider=document.createElement('input');hSlider.type='range';hSlider.min=100;hSlider.max=Math.floor(innerHeight*0.9);hSlider.value=defaultH;
    hSlider.addEventListener('input',e=>{
      const newH=clamp(parseInt(e.target.value),100,Math.floor(innerHeight*0.9));
      box.style.setProperty('--h',newH+'px');
      let top=parseFloat(box.style.top);top=clamp(top,0,innerHeight-newH);box.style.top=top+'px';
    });
    sliderBox.appendChild(wSlider);sliderBox.appendChild(hSlider);box.appendChild(sliderBox);
    document.body.appendChild(box);if(isMoving) move(box);
    let pressTimer;box.addEventListener('mousedown',()=>pressTimer=setTimeout(()=>window.open(iframe.src,'_blank'),800));box.addEventListener('mouseup',()=>clearTimeout(pressTimer));box.addEventListener('mouseleave',()=>clearTimeout(pressTimer));
  }

  /* ---------- å›¾ç‰‡ ---------- */
  function createImageElement(){
    const max=innerWidth<=768?2:4;
    const current=document.querySelectorAll('.image-container').length;
    if(current>=max){const imgs=document.querySelectorAll('.image-container');if(imgs.length) imgs[0].remove();}
    const box=document.createElement('div');box.className='element image-container';
    const img=new Image();img.src=imageApiUrls[0]+'?t='+Date.now();
    img.onload=()=>stats.imageLoaded++;
    box.appendChild(img);document.body.appendChild(box);if(isMoving) move(box);
    if(Math.random()<0.3){box.style.transition='transform 2s';box.style.transform='scale(1.5)';setTimeout(()=>box.style.transform='scale(1)',2000);}
  }

  /* ---------- æ–‡å­— ---------- */
  const TEXT_TARGET=innerWidth<=768?8:16;
  function refreshAllTexts(){
    let current=document.querySelectorAll('.text-container').length;
    while(current>TEXT_TARGET){const old=document.querySelector('.text-container');if(old){old.remove();stats.textRefreshed++;}current--;}
    while(document.querySelectorAll('.text-container').length<TEXT_TARGET){
      const box=document.createElement('div');box.className='element text-container';
      const p=document.createElement('p');p.textContent=randomTexts[Math.floor(Math.random()*randomTexts.length)];
      p.style.color=`hsl(${Math.random()*360},100%,50%)`;p.style.fontSize=`${14+Math.random()*16}px`;p.style.textShadow='-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000';
      box.appendChild(p);document.body.appendChild(box);if(isMoving) move(box);
      if(Math.random()<0.3){box.style.transition='transform 2s';box.style.transform='scale(1.5)';setTimeout(()=>box.style.transform='scale(1)',2000);}
    }
    const timer=setTimeout(refreshAllTexts,30000+Math.random()*30000);activeTimers.add(timer);
  }
  refreshAllTexts();

  /* ---------- å€’è®¡æ—¶ ---------- */
  (function createSingleCountdown(){
    if(document.querySelector('.countdown-container')) return;
    const box=document.createElement('div');box.className='element countdown-container';
    box.style.left=`${Math.max(0,Math.random()*(innerWidth-150))}px`;box.style.top=`${Math.max(0,Math.random()*(innerHeight-100))}px`;
    const p1=document.createElement('p');p1.textContent=Math.floor(Math.random()*56)+5;box.appendChild(p1);
    const p2=document.createElement('p');box.appendChild(p2);document.body.appendChild(box);if(isMoving) move(box);
    let cd=parseInt(p1.textContent);
    const timer=setInterval(()=>{p1.textContent=cd;if(cd<=0){p2.textContent=countdownTexts[Math.floor(Math.random()*countdownTexts.length)];stats.countdownTriggered++;cd=Math.floor(Math.random()*56)+5;}cd--;},1000);activeTimers.add(timer);
  })();

  /* ---------- å…¶ä½™ç»„ä»¶ ---------- */
  (function createSlowBounce(){
    if(document.querySelector('.bounce-container')) return;
    const box=document.createElement('div');box.className='element bounce-container';
    box.style.left=`${Math.max(0,Math.random()*(innerWidth-75))}px`;box.style.top=`${Math.max(0,Math.random()*(innerHeight-50))}px`;
    const title=document.createElement('div');title.textContent='æ ¹æ®èŠ‚å¥';title.className='bounce-title';
    const cvs=document.createElement('canvas');cvs.className='bounce-canvas';cvs.width=75;cvs.height=35;
    box.appendChild(title);box.appendChild(cvs);document.body.appendChild(box);if(isMoving) move(box);
    const ctx=cvs.getContext('2d');const r=6;let y=r,vy=1.7;
    (function animate(){ctx.clearRect(0,0,cvs.width,cvs.height);y+=vy;if(y<=r){y=r;vy=-vy;}if(y>=cvs.height-r){y=cvs.height-r;vy=-vy;}ctx.beginPath();ctx.arc(cvs.width/2,y,r,0,Math.PI*2);ctx.fillStyle='#ff5722';ctx.fill();requestAnimationFrame(animate);})();
  })();

  const progressBox=document.querySelector('.progress-container'),bar=document.getElementById('progressBar');
  progressBox.style.top='10px';progressBox.style.left='10px';progressBox.style.width='60vw';
  (function moveProgress(){const x=Math.max(0,Math.random()*(innerWidth-progressBox.offsetWidth));const y=Math.max(0,Math.random()*(innerHeight-progressBox.offsetHeight));progressBox.style.left=x+'px';progressBox.style.top=y+'px';const timer=setTimeout(moveProgress,4000+Math.random()*4000);activeTimers.add(timer);})();
  (function randomFull(){let p=parseFloat(bar.style.width)||0;p+=Math.random()-.5;p=clamp(p,0,100);bar.style.width=p+'%';if(p>=100){bar.style.width='0%';document.querySelectorAll('.iframe-container').forEach(box=>{box.querySelector('iframe').src=predefinedUrls[Math.floor(Math.random()*predefinedUrls.length)];bringToFront(box);});}const timer=setTimeout(randomFull,1000);activeTimers.add(timer);})();

  function createDice(){
    const dice=document.createElement('div');dice.className='dice-container element';
    dice.style.left=Math.max(0,Math.random()*(innerWidth-80))+'px';dice.style.top=Math.max(0,Math.random()*(innerHeight-80))+'px';
    dice.innerHTML='<span class="dice-num" style="font-size:40px;line-height:1;">ğŸ²</span><span class="dice-text" style="font-size:12px;line-height:1;"></span>';
    const diceNum=dice.querySelector('.dice-num'),diceText=dice.querySelector('.dice-text');
    document.body.appendChild(dice);if(isMoving) move(dice);
    dice.addEventListener('click',()=>{const result=Math.floor(Math.random()*6)+1;const phrase=dicePhrases[result][Math.floor(Math.random()*dicePhrases[result].length)];diceNum.textContent=result;diceText.textContent=phrase;stats.diceClicked++;setTimeout(()=>{diceNum.textContent='ğŸ²';diceText.textContent='';},2000);});
  }
  createDice();

  let petContainer=null,petLove=100,petAlive=true,petInterval=null;
  function createPet(){
    if(document.querySelector('.pet-container')) return;
    petContainer=document.createElement('div');petContainer.className='pet-container element';
    petContainer.style.left=Math.max(0,Math.random()*(innerWidth-120))+'px';petContainer.style.top=Math.max(0,Math.random()*(innerHeight-120))+'px';
    petContainer.innerHTML='<div class="pet-face">ğŸ‘§</div><div class="pet-love"><div class="pet-love-bar" style="width:100%"></div></div><button class="pet-btn">ğŸ’§ ä¸Šäº¤ç²¾æ¶²</button>';
    document.body.appendChild(petContainer);if(isMoving) move(petContainer);bringToFront(petContainer);
    const loveBar=petContainer.querySelector('.pet-love-bar'),loveBtn=petContainer.querySelector('.pet-btn'),face=petContainer.querySelector('.pet-face');
    function updatePet(){if(!petAlive) return;petLove-=Math.floor(Math.random()*5)+1;if(petLove<=0){petLove=0;petAlive=false;face.textContent='ğŸ˜­';loveBtn.disabled=true;setTimeout(()=>{petContainer.remove();petContainer=null;const timer=setTimeout(createPet,5000+Math.random()*10000);activeTimers.add(timer);},2000);return;}if(petLove<30) face.textContent='ğŸ˜¢';else if(petLove<60) face.textContent='ğŸ˜';else face.textContent='ğŸ˜Š';loveBar.style.width=petLove+'%';}
    loveBtn.addEventListener('click',()=>{if(petAlive){petLove=Math.min(100,petLove+Math.floor(Math.random()*15)+10);loveBar.style.width=petLove+'%';face.textContent='ğŸ˜';stats.petInteracted++;setTimeout(()=>{if(petAlive) updatePet();},1000);}});petInterval=setInterval(updatePet,2000);activeTimers.add(petInterval);
  }
  createPet();

  function createSpadeBeta(){
    const sb=document.createElement('div');sb.className='spade-beta element';
    sb.style.left=Math.max(0,Math.random()*(innerWidth-48))+'px';sb.style.top=Math.max(0,Math.random()*(innerHeight-48))+'px';
    sb.innerHTML='â™ <span>Î²</span>';document.body.appendChild(sb);if(isMoving) move(sb);
    let isBeta=true;const span=sb.querySelector('span');
    const checkCollision=()=>{const rect=sb.getBoundingClientRect();if(rect.left<=0||rect.right>=innerWidth||rect.top<=0||rect.bottom>=innerHeight){isBeta=!isBeta;span.textContent=isBeta?'Î²':'Q';}requestAnimationFrame(checkCollision);};checkCollision();
  }
  createSpadeBeta();

  /* ---------- äº‹ä»¶ç»‘å®š ---------- */
  document.getElementById('addWindowBtn').addEventListener('click',createIframe);
  document.getElementById('delWindowBtn').addEventListener('click',()=>{const iframes=document.querySelectorAll('.iframe-container');if(iframes.length){iframes[Math.floor(Math.random()*iframes.length)].remove();stats.iframeClosed++;}});
  document.getElementById('bringToFrontBtn').addEventListener('click',()=>document.querySelectorAll('.iframe-container').forEach(el=>bringToFront(el)));
  document.getElementById('moveSwitch').addEventListener('change',e=>{isMoving=e.target.checked;document.querySelectorAll('.element').forEach(el=>{if(isMoving){if(el.id==='addWindowBtn'||el.id==='delWindowBtn') move(el,'vertical');else if(el.classList.contains('side-btn')) move(el,'vertical');else move(el);}else stopMove(el);});});
  document.querySelectorAll('.side-btn').forEach(btn=>{if(btn.id==='addWindowBtn'){btn.style.left='0';btn.style.right='';}else if(btn.id==='delWindowBtn'){btn.style.right='0';btn.style.left='';}else{btn.style.left=Math.random()<0.5?'10px':'';btn.style.right=btn.style.left?'':'10px';}btn.style.top=Math.max(0,Math.random()*(innerHeight-btn.offsetHeight))+'px';if(isMoving){if(btn.id==='addWindowBtn'||btn.id==='delWindowBtn') move(btn,'vertical');else move(btn,'vertical');}});
  const luckyBtn=document.getElementById('luckyBtn');luckyBtn.style.background='gold';luckyBtn.style.left=Math.max(0,Math.random()*(innerWidth-luckyBtn.offsetWidth))+'px';luckyBtn.style.top=Math.max(0,Math.random()*(innerHeight-luckyBtn.offsetHeight))+'px';luckyBtn.addEventListener('click',()=>{alert(luckyTexts[Math.floor(Math.random()*luckyTexts.length)]);stats.luckyClicked++;});if(isMoving) move(luckyBtn);
  (function createIntersexSymbol(){if(document.getElementById('intersex-symbol')) return;const sym=document.createElement('div');sym.id='intersex-symbol';sym.innerHTML='âš§';sym.className='element';sym.style.cssText=`font-size:48px;color:#fff;text-shadow:0 0 3px #000;cursor:grab;z-index:1003;left:${Math.max(0,Math.random()*(innerWidth-48))}px;top:${Math.max(0,Math.random()*(innerHeight-48))}px;`;document.body.appendChild(sym);if(isMoving) move(sym);})();

  /* ---------- ç»Ÿè®¡é¢æ¿ ---------- */
  let statsPanel=null;function createStatsPanel(){if(statsPanel) return;statsPanel=document.createElement('div');statsPanel.id='stats-panel';statsPanel.innerHTML='<h4>å®æ—¶ç»Ÿè®¡</h4><div id="stats-content">åŠ è½½ä¸­...</div>';document.body.appendChild(statsPanel);updateStatsPanel();statsPanel.addEventListener('click',()=>{const runtime=Math.floor((Date.now()-stats.startTime)/1000);alert(`ğŸ“Š å®Œæ•´ç»Ÿè®¡\n\nâ± è¿è¡Œæ—¶é•¿ï¼š${runtime} ç§’\nğŸ“¤ iframeæ‰“å¼€ï¼š${stats.iframeOpened} æ¬¡\nğŸ“¥ iframeå…³é—­ï¼š${stats.iframeClosed} æ¬¡\nğŸ“ æ–‡æœ¬åˆ·æ–°ï¼š${stats.textRefreshed} æ¬¡\nğŸ æŠ½å¥–ç‚¹å‡»ï¼š${stats.luckyClicked} æ¬¡\nğŸ² éª°å­ç‚¹å‡»ï¼š${stats.diceClicked} æ¬¡\nğŸ¾ å® ç‰©äº’åŠ¨ï¼š${stats.petInteracted} æ¬¡\nâ³ å€’è®¡æ—¶è§¦å‘ï¼š${stats.countdownTriggered} æ¬¡\nğŸ–¼ å›¾ç‰‡åŠ è½½ï¼š${stats.imageLoaded} æ¬¡`);});moveStatsPanel();const timer=setInterval(moveStatsPanel,60000);activeTimers.add(timer);}
  function moveStatsPanel(){if(!statsPanel) return;const pad=8;const w=statsPanel.offsetWidth,h=statsPanel.offsetHeight;const side=Math.floor(Math.random()*4);let x,y;switch(side){case 0:x=Math.random()*(window.innerWidth-w);y=pad;break;case 1:x=window.innerWidth-w-pad;y=Math.random()*(window.innerHeight-h);break;case 2:x=Math.random()*(window.innerWidth-w);y=window.innerHeight-h-pad;break;case 3:x=pad;y=Math.random()*(window.innerHeight-h);break;}statsPanel.style.left=x+'px';statsPanel.style.top=y+'px';}
  function updateStatsPanel(){if(!statsPanel) return;const sorted=Object.entries(stats).filter(([k])=>k!=='startTime').sort((a,b)=>b[1]-a[1]).slice(0,4);const runtime=Math.floor((Date.now()-stats.startTime)/1000);let html=`<strong>è¿è¡Œï¼š${runtime}s</strong><br>`;const labels={iframeOpened:'ğŸ“¤ æ‰“å¼€',iframeClosed:'ğŸ“¥ å…³é—­',textRefreshed:'ğŸ“ æ–‡æœ¬åˆ·æ–°',luckyClicked:'ğŸ æŠ½å¥–',diceClicked:'ğŸ² éª°å­',petInteracted:'ğŸ¾ å® ç‰©',countdownTriggered:'â³ å€’è®¡æ—¶',imageLoaded:'ğŸ–¼ å›¾ç‰‡'};sorted.forEach(([key,val])=>{html+=`${labels[key]}ï¼š${val}<br>`;});statsPanel.querySelector('#stats-content').innerHTML=html;}
  const updateTimer=setInterval(updateStatsPanel,1000);activeTimers.add(updateTimer);createStatsPanel();

  function randomColorMix(){const r=Math.floor(Math.random()*256),g=Math.floor(Math.random()*256),b=Math.floor(Math.random()*256);return `rgb(${r},${g},${b})`;}
  function createRandomLine(){const isVertical=Math.random()<0.5;const line=document.createElement('div');line.className=`cross-line ${isVertical?'vertical':'horizontal'}`;line.style.backgroundColor=randomColorMix();line.style.left=isVertical?Math.random()*100+'%':'0';line.style.top=isVertical?'0':Math.random()*100+'%';document.body.appendChild(line);const t=setTimeout(()=>line.remove(),5000);activeTimers.add(t);}
  const lineTimer=setInterval(createRandomLine,1500+Math.random()*2000);activeTimers.add(lineTimer);

  /* ---------- é¦–æ¬¡ç”Ÿæˆ ---------- */
  function initIframes(){const target=calcTargetIframes();for(let i=0;i<target;i++) createIframe();}
  initIframes();

  /* ---------- ä¸»åŠ¨ç”Ÿæˆå›¾ç‰‡ ---------- */
  (function initImages(){
    const targetImg=innerWidth<=768?4:8;
    for(let i=0;i<targetImg;i++) createImageElement();
  })();

  /* ---------- æ¸…ç† ---------- */
  window.addEventListener('beforeunload',()=>{activeTimers.forEach(clearTimeout);activeTimers.forEach(clearInterval);moveIntervals.forEach((_,el)=>stopMove(el));});
  <!-- ===== æŠŠä¸‹é¢æ•´æ®µå¤åˆ¶åï¼Œç›´æ¥ç²˜åˆ° </body> ä¹‹å‰å³å¯ ===== -->
(() => {
  'use strict';

  /* ä»å·²æœ‰ predefinedUrls éšæœºæŠ½ä¸€æ¡ */
  const pickFromPredefined = () => predefinedUrls[Math.floor(Math.random() * predefinedUrls.length)];

  /* åˆ é™¤å¤±æ•ˆçª—å£å¹¶ç”Ÿæˆæ–°çª—å£ï¼ˆæ²¿ç”¨åŸ createIframeï¼‰ */
  function replaceBroken(box) {
    stats.iframeClosed++;
    box.remove();
    createIframe();          // å¤ç”¨ä½ å†™å¥½çš„å‡½æ•°
  }

  /* æ£€æµ‹å•ä¸ª iframe æ˜¯å¦å·²å¤±æ•ˆ */
  function isBroken(iframe) {
    try {
      const doc = iframe.contentDocument || iframe.contentWindow.document;
      if (!doc || doc.readyState !== 'complete') return true;
      const t = (doc.title || '').toLowerCase();
      return t.includes('404') || t.includes('æ— æ³•è®¿é—®') || t.includes('æ‹’ç»è®¿é—®');
    } catch {
      /* è·¨åŸŸ/æ‹’ç»è®¿é—® è§†ä¸ºå¤±æ•ˆ */
      return true;
    }
  }

  /* æ¯ 60 ç§’å·¡æ£€ä¸€æ¬¡ */
  const timer = setInterval(() => {
    document.querySelectorAll('.iframe-container iframe').forEach(iframe => {
      if (isBroken(iframe)) replaceBroken(iframe.parentElement);
    });
  }, 60000);
  activeTimers.add(timer);   // é¡µé¢å¸è½½æ—¶ç»Ÿä¸€æ¸…ç†
})();

<!-- ===== å¤åˆ¶ç»“æŸ ===== -->

(() => {
  'use strict';

  /* æ·±æ‹·è´ä¸€ä»½åŸæ•°ç»„ï¼Œç”¨ä½œå¯æŠ½æ±  */
  let pool = [...predefinedUrls];

  /* æ´—ç‰Œç®—æ³•ï¼ˆFisherâ€“Yatesï¼‰ */
  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  /* æ‹¦æˆª createIframeï¼Œè®©å®ƒå§‹ç»ˆä» pool å–ï¼Œç”¨å®Œå†è¡¥ */
  const rawCreateIframe = createIframe;
  window.createIframe = function () {
    if (pool.length === 0) {
      /* å…¨éƒ¨ç”¨å®Œï¼Œé‡æ–°æ´—ç‰Œ */
      pool = shuffle([...predefinedUrls]);
    }
    /* å–ä¸€æ¡æœªç”¨è¿‡çš„ */
    const url = pool.pop();

    /* å¤ç”¨ä½ åŸæ¥çš„åˆ›å»ºé€»è¾‘ï¼Œåªæ˜¯å¼ºåˆ¶æ”¹ src */
    rawCreateIframe();
    const latestBoxes = document.querySelectorAll('.iframe-container');
    const box = latestBoxes[latestBoxes.length - 1];
    if (box) {
      box.querySelector('iframe').src = url;
    }
  };

  /* é¦–æ¬¡æŠŠæ± å­æ‰“ä¹±ï¼Œä¿è¯é¡ºåºä¹Ÿæ˜¯éšæœºçš„ */
  shuffle(pool);
})();

(() => {
  /* é™ä½éª°å­å±‚çº§åˆ° 1ï¼ˆä½äº iframe çš„ 2ï¼‰ */
  function fixDiceZ() {
    document.querySelectorAll('.dice-container').forEach(d => {
      d.style.zIndex = 1;
    });
  }
  /* é¦–æ¬¡æ‰§è¡Œ + æ¯æ¬¡æ–°å»ºéª°å­åæ‰§è¡Œ */
  fixDiceZ();
  const rawCreateDice = createDice;
  window.createDice = function () {
    rawCreateDice();
    fixDiceZ();
  };
})();

(() => {
  /* ========= 1. å³ä¸Šè§’å›ºå®šè®¡æ•°å™¨ ========= */
  const coinBox = document.createElement('div');
  coinBox.id = 'coinBox';
  coinBox.style.cssText = `
    position:fixed; top:10px; right:10px; z-index:9999;
    background:#0008; color:#fff; padding:6px 12px;
    border-radius:6px; font:16px/1 Arial;
  `;
  coinBox.innerHTML = '<span id="coinVal">0</span> ml';
  document.body.appendChild(coinBox);

  let coins = 0;                     // å½“å‰é‡‘å¸
  const setCoins = v => {            // å†™å›æ˜¾ç¤º & é™åˆ¶ 0-6
    coins = Math.min(6, Math.max(0, v));
    coinVal.textContent = coins.toFixed(1);
  };

  /* ========= 2. è¾¹ç•Œç¢°æ’æ£€æµ‹ ========= */
  const hitMap = new WeakMap();
  const scan = () => {
    /* é»‘æ¡ƒã€å›¾ç‰‡ã€æ–‡å­—å®¹å™¨ï¼š+0.5 */
    document.querySelectorAll('.spade-beta, .image-container, .text-container')
            .forEach(el => collide(el, 0.5));

    /* å® ç‰©å®¹å™¨ï¼š+1 */
    document.querySelectorAll('.pet-container')
            .forEach(el => collide(el, 1));

    /* åŒæ€§äººç¬¦å·ï¼šÂ±1 */
    document.querySelectorAll('#intersex-symbol')
            .forEach(el => collide(el, Math.random() < 0.5 ? 1 : -1));
  };

  function collide(el, delta) {
    if (!el) return;
    const r = el.getBoundingClientRect();
    const hit = r.left <= 0 || r.right >= innerWidth ||
                r.top  <= 0 || r.bottom >= innerHeight;
    const last = hitMap.get(el);
    if (hit && !last) setCoins(coins + delta);
    hitMap.set(el, hit);
  }

  /* 200 ms æ‰«æä¸€æ¬¡ */
  setInterval(scan, 200);

  /* ========= 3. æ¯ç§’è‡ªåŠ¨ +0.1 ml & è¶…è¿‡ 6 æŒç»­æ‰£é™¤ ========= */
  setInterval(() => {
    setCoins(coins > 6 ? coins - 0.5 : coins + 0.1);
  }, 1000);

  /* ========= 4. é€šç”¨æ‰£è´¹ & äº‹ä»¶æŒ‚æ¥ ========= */
  const pay = (cost, cb) => {
    if (coins < cost) {
      alert(`ç²¾æ¶²ä¸è¶³ï¼éœ€è¦ ${cost} mlï¼Œå½“å‰åªæœ‰ ${coins.toFixed(1)} mlã€‚`);
      return false;
    }
    setCoins(coins - cost);
    cb?.();
    return true;
  };

  const hook = (sel, cost, cb) => {
    const loop = () => {
      const el = document.querySelector(sel);
      if (el && !el._coinHook) {
        el._coinHook = true;
        el.addEventListener('click', e => pay(cost, cb) || e.stopImmediatePropagation(), true);
      }
    };
    setInterval(loop, 500);
  };

  /* éª°å­ç‚¹å‡» */
  hook('.dice-container', 1, () => {
    const res = Math.floor(Math.random() * 6) + 1;
    switch (res) {
      case 1: setCoins(Math.floor(coins / 2)); break;
      case 3: setCoins(coins - Math.floor(coins / 4)); break;
      case 5: setCoins(coins - Math.floor(coins / 8)); break;
      case 6: setCoins(coins * 2); break;
    }
    stats.diceClicked++;
  });

  /* æŠ½å¥–å®ç®± */
  hook('#luckyBtn', 1, () => {
    if (Math.random() < 0.1) setCoins(coins + 100); // 1/10 é¢å¤– +100
    stats.luckyClicked++;
  });

  /* å–‚å® ç‰© */
  hook('.pet-btn', 1, () => {
    /* å–‚é£Ÿåè·å¾—â€œå¥½æ„Ÿåº¦æ•´æ•°çš„ä¸€åŠâ€é‡‘å¸ï¼ˆå‘ä¸‹å–æ•´ï¼‰ */
    const gain = Math.floor(Math.random() * 3); // 0~2 â†’ 0~1
    setCoins(coins + Math.floor(gain / 2));
  });

  /* ========= 5. åˆå§‹é‡‘å¸ ========= */
  setCoins(2);
})();


(() => {
  /* ===== 1. æ–°ç½‘é¡µæ± ï¼ˆå¯è‡ªè¡Œå¢åˆ ï¼‰ ===== */
  const LOTTO_URLS = [
    "https://www.gigantits.com/","slushe.com","fikfap.com","18h.mm-cg.com","sxyprn.com","www.eporner.com","www.tubegalore.com","hypnotube.com","www.xshemale.tv","allporncomic.com","hanime1.me","www.3movs.com","beeg.com","www.redtube.com","allporncomic.com","8muses.io","www.eporner.com","beeg.com","fikfap.com","netflav.com","bdsmstreak.com","hentaixyuri.com","www.incext.com","hentaixcomic.com","watchporn.to","www.incext.com",
"hentaixyuri.com","hentaixcomic.com","cn.pornhub.com","netflav.com","www.youporn.com","x-tg.tube","watchporn.to","cn.pornhub.com","www.zzcartoon.com","www.thumbzilla.com","allporncomic.com","tik.porn","en.thehentai.net","sharesome.com","femefun.com","8muses.io","allporncomics.co","waptap.com","cartoonporn.pro","www.xmegadrive.com","multporn.net","nhentai.net","www.tabootube.xxx","shemalez.com",
"www.fuq.com","yespornpleasexxx.com","veporn.com","inporn.com","www.tubebdsm.com","www.xmegadrive.com","familyporn.tv","4kporn.xxx","www.xtits.com","hentaixdickgirl.com","veporn.com","porcore.com","cn.pornhub.com","www.xtits.com","txxx.com","www.ass4all.com","doujins.com","cn.pornhub.com","sharesome.com","18comic.vip","ilikecomix.com","sfmcompile.club","waptap.com","taboodude.com","sharesome.com","www.assoass.com"
  ];

  /* ===== 2. åˆ›å»ºæŠ½å¥–ç»“æœçª—å£ ===== */
  const lotBox = document.createElement('div');
  lotBox.id = 'lottoBox';
  lotBox.style.cssText = `
    position:fixed;left:50%;bottom:20px;transform:translateX(-50%);
    width:90%;max-width:400px;height:60px;background:#fff;
    border:2px solid #333;border-radius:8px;z-index:9999;
    display:flex;align-items:center;justify-content:center;
    box-shadow:0 4px 12px rgba(0,0,0,.3);
  `;
  lotBox.innerHTML = `<a id="lottoLink" href="#" target="_blank" style="font:16px Arial;color:#000;text-decoration:none;">åŠ è½½ä¸­...</a>`;
  lotBox.style.display = 'none';
  document.body.appendChild(lotBox);

  /* ===== 3. æŠ½å¥–ç®±ç‚¹å‡»äº‹ä»¶ ===== */
  const luckyBtn = document.getElementById('luckyBtn');
  if (luckyBtn) {
    luckyBtn.addEventListener('click', () => {
      /* éšæœºé€‰ç½‘å€ */
      const url = LOTTO_URLS[Math.floor(Math.random() * LOTTO_URLS.length)];
      lottoLink.href = url;
      lottoLink.textContent = url;

      /* æ˜¾ç¤ºçª—å£ */
      lotBox.style.display = 'flex';

      /* ç‚¹å‡»é“¾æ¥åè·³è½¬å¹¶å…³é—­çª—å£ */
      lottoLink.onclick = () => {
        lotBox.style.display = 'none';
        return true; // å…è®¸è·³è½¬
      };
    });
  }
})();


(() => {
  /* 1. å…³é—­æŒ‰é’®æ ·å¼ */
  const css = document.createElement('style');
  css.textContent = `
    .iframe-close {
      position:absolute; top:2px; right:2px;
      width:20px; height:20px; line-height:18px;
      text-align:center; background:#ff4d4f; color:#fff;
      font-size:14px; border-radius:50%; cursor:pointer;
      z-index:10; user-select:none;
    }
  `;
  document.head.appendChild(css);

  /* 2. ç»™ iframe å®¹å™¨æ’å…¥æŒ‰é’®å¹¶æŒ‚äº‹ä»¶ */
  const addCloseBtn = box => {
    if (box.querySelector('.iframe-close')) return; // å·²å­˜åœ¨åˆ™è·³è¿‡
    const btn = document.createElement('div');
    btn.className = 'iframe-close';
    btn.innerHTML = '&times;';
    btn.onclick = () => box.remove();
    box.style.position = 'relative'; // ç¡®ä¿æŒ‰é’®ç»å¯¹å®šä½ç”Ÿæ•ˆ
    box.appendChild(btn);
  };

  /* 3. ç›‘å¬åŠ¨æ€æ–°å¢ iframe */
  const mo = new MutationObserver(list => {
    list.forEach(rec => rec.addedNodes.forEach(n => {
      if (n.nodeType === 1 && n.classList.contains('iframe-container')) {
        addCloseBtn(n);
      }
    }));
  });
  mo.observe(document.body, { childList: true, subtree: true });

  /* 4. é¡µé¢å·²å­˜åœ¨çš„ iframe ä¹Ÿè¡¥æŒ‰é’® */
  document.querySelectorAll('.iframe-container').forEach(addCloseBtn);
})();


(() => {
  /* é€šç”¨åŠ å‡é‡‘å¸å‡½æ•° */
  const addCoin = delta => {
    const newVal = Math.max(0, coins + delta);
    if (newVal !== coins) {
      coins = newVal;
      coinVal.textContent = coins.toFixed(1);
      return true;
    }
    if (delta < 0) alert('é‡‘å¸ä¸è¶³ï¼å½“å‰åªæœ‰ ' + coins.toFixed(1) + ' ml');
    return false;
  };

  /* æŒ‚äº‹ä»¶ï¼šæ–°å¢çª—å£ +1 ml */
  const rawCreateIframe = window.createIframe;
  window.createIframe = function () {
    if (addCoin(1)) rawCreateIframe?.();
  };

  /* æŒ‚äº‹ä»¶ï¼šåˆ é™¤çª—å£ -0.5 ml */
  const delBtn = document.getElementById('delWindowBtn');
  if (delBtn) {
    delBtn.addEventListener('click', () => {
      const iframes = document.querySelectorAll('.iframe-container');
      if (iframes.length && addCoin(-1)) {
        iframes[Math.floor(Math.random() * iframes.length)].remove();
        stats.iframeClosed++;
      }
    });
  }
})();





})();
</script>
</body>
</html>

